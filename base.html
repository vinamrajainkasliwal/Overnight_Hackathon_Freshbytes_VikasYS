<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>E-Farmer System</title>
    <style>
        :root {
            --bg: #0f172a;
            --card: #0b1120;
            --accent: #22c55e;
            --muted: #9ca3af;
            --border: #1f2937;
        }
        * { box-sizing: border-box; }
        body {
            margin: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: radial-gradient(circle at top, #1e293b, #020617);
            color: #e5e7eb;
        }
        header {
            position: sticky;
            top: 0;
            z-index: 10;
            background: rgba(15,23,42,0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(148,163,184,0.3);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem 2rem;
        }
        .logo { font-weight: 700; letter-spacing: 0.05em; display:flex; align-items:center; gap:0.5rem; }
        .logo span.icon {
            width: 26px; height:26px; border-radius:999px;
            background: radial-gradient(circle at 30% 30%, #bbf7d0, #22c55e);
        }
        nav a {
            margin-left: 1rem;
            font-size: 0.9rem;
            text-decoration: none;
            color: #e5e7eb;
            padding: 0.3rem 0.7rem;
            border-radius: 999px;
        }
        nav a:hover { background: rgba(148,163,184,0.2); }
        main {
            max-width: 1100px;
            margin: 1.5rem auto 2rem;
            padding: 0 1.25rem;
        }
        .card {
            background: linear-gradient(135deg, rgba(15,23,42,0.95), rgba(15,23,42,0.8));
            border-radius: 1rem;
            padding: 1.25rem 1.5rem;
            box-shadow: 0 20px 40px -24px rgba(15,23,42,1);
            border: 1px solid rgba(148,163,184,0.25);
            margin-bottom: 1rem;
        }
        h1,h2,h3 { margin-top: 0; }
        h2 { font-size: 1.3rem; }
        input, select {
            padding: 0.45rem 0.6rem;
            border-radius: 0.6rem;
            border: 1px solid #1f2937;
            width: 100%;
            max-width: 320px;
            background: #020617;
            color: #e5e7eb;
            margin-bottom: 0.6rem;
        }
        button {
            margin-top: 0.4rem;
            padding: 0.55rem 1.1rem;
            border-radius: 999px;
            border: none;
            background: linear-gradient(135deg,#22c55e,#16a34a);
            color: #020617;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
        }
        button:hover { filter: brightness(1.05); }
        label { font-size: 0.8rem; color: #9ca3af; }
        .pill {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            border-radius: 999px;
            font-size: 0.7rem;
            background: rgba(148,163,184,0.18);
            color: #e5e7eb;
        }
        .pill-success { background: rgba(34,197,94,0.18); color:#bbf7d0; }
        .pill-danger { background: rgba(248,113,113,0.2); color:#fecaca; }
        .muted { color: #9ca3af; font-size: 0.85rem; }
        .lang-select { padding:0.2rem 0.5rem; border-radius:999px; background:#020617; color:#e5e7eb; border:1px solid #1f2937; }
        ul { padding-left:1rem; }
    </style>
</head>
<body>
<header>
    <div class="logo">
        <span class="icon"></span>
        <div id="appName">E-Farmer Subsidy System</div>
    </div>
    <nav>
        <a href="{{ url_for('login_admin') }}" id="navAdmin">Admin Portal</a>
        <a href="{{ url_for('login_dealer') }}" id="navDealer">Dealer Portal</a>
        <a href="{{ url_for('login_farmer') }}" id="navFarmer">Farmer Portal</a>
        <a href="{{ url_for('register_farmer') }}">Register Farmer (Admin)</a>
        <a href="{{ url_for('logout') }}">Logout</a>
    </nav>
    <div>
        <select class="lang-select" id="langSelect">
            {% for code, label in languages %}
                <option value="{{ code }}" {% if code == current_lang %}selected{% endif %}>{{ label }}</option>
            {% endfor %}
        </select>
    </div>
</header>
<main>
    {% block content %}
    <div class="card">
        <h2>Welcome</h2>
        <p class="muted">Use the navigation bar to login as admin, dealer, or farmer, and explore the subsidy system.</p>
    </div>
    {% endblock %}
</main>

<script>
    // simple language toggle for main labels (English / Hindi demo)
    const langSelect = document.getElementById('langSelect');
    const currentUrl = window.location.pathname;

    langSelect.addEventListener('change', () => {
        const lang = langSelect.value;
        const url = currentUrl + '?lang=' + lang;
        window.location.href = url;
    });

    const lang = "{{ current_lang }}";
    if (lang === "hi") {
        document.getElementById("appName").innerText = "ई-फार्मर सब्सिडी सिस्टम";
        document.getElementById("navAdmin").innerText = "ऐडमिन पोर्टल";
        document.getElementById("navDealer").innerText = "डीलर पोर्टल";
        document.getElementById("navFarmer").innerText = "किसान पोर्टल";
    }
</script>
</body>
</html>
